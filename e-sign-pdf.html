<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MJYDCHGD51"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-MJYDCHGD51');
</script>
    <!-- ============== BASIC META TAGS ============== -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Free eSign PDF Tool | Sign Documents Online</title>
    <meta name="description" content="Sign PDF documents online for free with our secure eSign tool. Upload your PDF, draw your signature, and place it anywhere on the document. Fast, private, and no uploads required.">
    <meta name="keywords" content="esign pdf, sign pdf, electronic signature, sign document online, free pdf signer, draw signature on pdf, online signature tool">
    
    <!-- ============== SEO & SOCIAL META TAGS ============== -->
    <link rel="canonical" href="https://toolsbucket.online/esign-pdf.html">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="48x48" href="/favicon-48x48.png">
	<link rel="icon" type="image/png" sizes="64x64" href="/favicon-64x64.png">
	<link rel="icon" type="image/png" sizes="192x192" href="/favicon-192x192.png">
	<link rel="icon" type="image/png" sizes="512x512" href="/favicon-512x512.png">
	<link rel="apple-touch-icon" sizes="180x180" href="/favicon-192x192.png">
	<meta name="theme-color" content="#ffffff">
    <meta property="og:title" content="Free Online PDF eSigning Tool">
    <meta property="og:description" content="Easily add your signature to any PDF document. Our tool works in your browser, keeping your files secure and private.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://toolsbucket.online/esign-pdf.html">
    <meta property="og:image" content="https://toolsbucket.online/images/esign-pdf-og.png">

    <!-- External Libraries - Corrected and versioned for stability -->
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.0.0/dist/signature_pad.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>


    <!-- ============== STYLES & FONTS ============== -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #007BFF;
            --background-color: #f4faff;
            --card-background: #ffffff;
            --text-color: #333;
            --heading-color: #0056b3;
            --border-color: #ddd;
            --shadow-color: rgba(0, 123, 255, 0.1);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Poppins', Arial, sans-serif;
            background: var(--background-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        
        .page-header {
            width: 100%;
            max-width: 1200px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .brand-name { font-size: 1.8em; font-weight: 700; }
        .brand-part-1 { color: var(--primary-color); }
        .brand-part-2 { color: #000000; }
        .back-button {
            text-decoration: none;
            background-color: var(--card-background);
            color: var(--text-color);
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: 600;
            transition: background-color 0.3s;
            border: 1px solid var(--border-color);
        }
        .back-button:hover { background-color: #e9ecef; }
        
        .main-container { width: 100%; max-width: 1200px; }
        .content-section, .tool-container, footer {
            background-color: var(--card-background);
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 8px 25px var(--shadow-color);
            margin-bottom: 30px;
        }
        h1, h2 { color: var(--heading-color); margin-bottom: 15px; text-align: center; }
        h1 { font-size: 2em; }
        h2 { font-size: 1.6em; }
        
        .tool-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }
        @media (min-width: 992px) {
            .tool-container { grid-template-columns: 350px 1fr; }
        }

        .controls-side .step { margin-bottom: 20px; }
        .controls-side h3 { border-bottom: 2px solid var(--primary-color); padding-bottom: 5px; margin-bottom: 15px;}
        
        #signaturePad { border: 2px dashed var(--border-color); border-radius: 8px; cursor: crosshair; width: 100%; height: 150px; }
        
        .workspace-side {
            background-color: #f0f0f0;
            padding: 15px;
            border-radius: 8px;
            overflow: auto;
            max-height: 80vh;
        }
        #pdf-viewer { position: relative; }
        #pdf-viewer canvas { 
            display: block;
            margin: 0 auto 10px auto; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.2); 
            cursor: pointer;
        }
        #signature-image {
            position: absolute;
            cursor: move;
            display: none;
            user-select: none;
            border: 2px dashed var(--primary-color);
            touch-action: none; /* For interact.js */
        }
        
        .btn {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            width: auto;
            margin: 5px;
            font-size: 16px;
            font-weight: 600;
        }
        .btn:disabled { background-color: #a0c8ff; cursor: not-allowed; }
        .btn.secondary { background-color: #6c757d; }
        
        footer { text-align: center; }
        footer h3 { font-size: 1.2em; font-weight: 600; margin-bottom: 15px; }
        footer ul { list-style: none; padding: 0; margin: 0 0 20px 0; }
        footer li { display: inline-block; margin: 0 12px; }
        footer a { color: var(--primary-color); text-decoration: none; font-weight: 600; }
        footer .footer-bottom p { font-size: 0.9em; color: #888; margin: 0; }
    </style>
	<!========Ads Section ===========>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5037596819589415"
     crossorigin="anonymous"></script>
    <!=========Ads Section ===========>
</head>
<body>
  <header class="page-header">
      <a href="index.html#tools" class="back-button">← Back to Tools</a>
      <div class="brand-name">
          <span class="brand-part-1">Tools</span><span class="brand-part-2">Bucket</span>
      </div>
  </header>

  <main class="main-container">
    <section class="content-section">
        <h1>Free Online PDF eSign Tool</h1>
        <p>Sign your PDF documents with ease using our secure and intuitive eSign tool. Whether you need to sign a contract, an application form, or any other document, our tool allows you to upload a PDF, draw your signature, and place it exactly where you need it. The best part? Everything happens directly in your browser, ensuring your files are never uploaded to a server. It's the fast, free, and private way to sign documents online.</p>
    </section>

    <div class="tool-container">
        <div class="controls-side">
            <div class="step">
                <h3>Step 1: Upload PDF</h3>
                <input type="file" id="pdfInput" accept="application/pdf" />
            </div>
            <div class="step">
                <h3>Step 2: Draw Signature</h3>
                <canvas id="signaturePad"></canvas>
                <button id="clearBtn" class="btn secondary">Clear</button>
            </div>
            <div class="step">
                <h3>Step 3: Place & Download</h3>
                <p>After signing, click on the PDF preview to place your signature. You can then drag and resize it.</p>
                <button id="downloadBtn" class="btn" disabled>Apply Signature & Download</button>
            </div>
        </div>
        
        <div class="workspace-side">
            <div id="pdf-viewer">
                <p>Upload a PDF to get started</p>
            </div>
            <img id="signature-image" alt="Your signature">
        </div>
    </div>

    <!=================Banner Ads Section ==================>
       
  		<!=================Banner Ads Section ==================>
      
    <section class="content-section">
        <h2>How to Sign Your PDF</h2>
        <ol>
            <li><strong>Upload Your PDF:</strong> Click the "Choose File" button to select a PDF from your device.</li>
            <li><strong>Draw Your Signature:</strong> Use your mouse or trackpad to draw your signature in the box provided. Click "Clear" to start over.</li>
            <li><strong>Place Your Signature:</strong> Click anywhere on the PDF preview where you want to add your signature. You can then drag it to the perfect position and resize it by dragging its corners.</li>
            <li><strong>Download:</strong> Click the "Apply Signature & Download" button to save your newly signed PDF.</li>
        </ol>
    </section>

	  </===================Ads Section==================>
	
	</====================Ads Section=================>
    <footer id="contact">
        <h3>Quick Links</h3>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="index.html#tools">All Tools</a></li>
            <li><a href="privacy-policy.html">Privacy Policy</a></li>
            <li><a href="terms-&-conditions.html">Terms of Use</a></li>
            <li><a href="about.html">About</a></li>
        </ul>
        <div class="footer-bottom">
            <p>© 2025 ToolsBucket. All rights reserved.</p>
        </div>
    </footer>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
        const { PDFDocument } = PDFLib;
        const pdfjsLib = window['pdfjs-dist/build/pdf'];
        pdfjsLib.GlobalWorkerOptions.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js`;

        const pdfInput = document.getElementById("pdfInput");
        const signaturePadCanvas = document.getElementById("signaturePad");
        const pdfViewer = document.getElementById("pdf-viewer");
        const clearBtn = document.getElementById("clearBtn");
        const downloadBtn = document.getElementById("downloadBtn");
        const signatureImage = document.getElementById('signature-image');
        
        const signaturePad = new SignaturePad(signaturePadCanvas);
        let pdfFile = null;

        function resizeCanvas() {
            const ratio = Math.max(window.devicePixelRatio || 1, 1);
            signaturePadCanvas.width = signaturePadCanvas.offsetWidth * ratio;
            signaturePadCanvas.height = signaturePadCanvas.offsetHeight * ratio;
            signaturePadCanvas.getContext("2d").scale(ratio, ratio);
            signaturePad.clear();
        }
        window.addEventListener("resize", resizeCanvas);
        resizeCanvas();

        const renderPdf = async (file) => {
            pdfViewer.innerHTML = '<p>Loading PDF...</p>';
            try {
                const data = await file.arrayBuffer();
                pdfFile = data; // Store the raw buffer for pdf-lib
                
                const pdfjsDoc = await pdfjsLib.getDocument({ data }).promise;
                pdfViewer.innerHTML = ''; 

                for (let i = 1; i <= pdfjsDoc.numPages; i++) {
                    const page = await pdfjsDoc.getPage(i);
                    const viewport = page.getViewport({ scale: 1.5 });
                    const canvas = document.createElement('canvas');
                    const context = canvas.getContext('2d');
                    canvas.height = viewport.height;
                    canvas.width = viewport.width;
                    canvas.dataset.pageNumber = i;
                    
                    await page.render({ canvasContext: context, viewport: viewport }).promise;
                    pdfViewer.appendChild(canvas);

                    canvas.addEventListener('click', (e) => {
                        if (signaturePad.isEmpty()) {
                            alert('Please draw your signature first.');
                            return;
                        }
                        
                        const rect = canvas.getBoundingClientRect();
                        const x = e.clientX - rect.left;
                        const y = e.clientY - rect.top;

                        const sigInitialWidth = 150;
                        const sigInitialHeight = 75;

                        signatureImage.style.display = 'block';
                        signatureImage.src = signaturePad.toDataURL();
                        signatureImage.style.width = `${sigInitialWidth}px`;
                        signatureImage.style.height = `${sigInitialHeight}px`;

                        const absoluteX = canvas.offsetLeft + x - (sigInitialWidth / 2);
                        const absoluteY = canvas.offsetTop + y - (sigInitialHeight / 2);
                        
                        signatureImage.style.transform = `translate(${absoluteX}px, ${absoluteY}px)`;
                        signatureImage.dataset.x = absoluteX;
                        signatureImage.dataset.y = absoluteY;
                        
                        pdfViewer.appendChild(signatureImage);
                        downloadBtn.disabled = false;
                    });
                }
            } catch (error) {
                console.error("Failed to load PDF:", error);
                pdfViewer.innerHTML = '<p>Error: Could not load the PDF file. It might be corrupted or protected.</p>';
            }
        };

        pdfInput.addEventListener("change", (e) => {
            const file = e.target.files[0];
            if (file && file.type === "application/pdf") {
                renderPdf(file);
            } else {
                alert("Please upload a valid PDF file.");
            }
        });

        clearBtn.addEventListener("click", () => signaturePad.clear());

        downloadBtn.addEventListener("click", async () => {
            if (!pdfFile || signatureImage.style.display === 'none') {
                alert("Please upload a PDF and place your signature first.");
                return;
            }

            try {
                downloadBtn.disabled = true;
                downloadBtn.textContent = 'Applying...';
                
                const pdfDoc = await PDFDocument.load(pdfFile);
                const signatureImgPng = await pdfDoc.embedPng(signatureImage.src);
                
                // Find the target page
                let targetPageNum = -1;
                let accumulatedHeight = 0;
                const signatureTop = signatureImage.offsetTop;
                const canvases = pdfViewer.querySelectorAll('canvas');

                for (let i = 0; i < canvases.length; i++) {
                    const canvas = canvases[i];
                    if (signatureTop < accumulatedHeight + canvas.offsetHeight) {
                        targetPageNum = i;
                        break;
                    }
                    accumulatedHeight += canvas.offsetHeight + 10; // 10px margin
                }

                if (targetPageNum === -1) throw new Error("Could not determine signature page.");
                
                const page = pdfDoc.getPages()[targetPageNum];
                const pageCanvas = canvases[targetPageNum];

                // Calculate signature position and size relative to the PDF page
                const scale = page.getWidth() / pageCanvas.offsetWidth;
                
                const sigX = (signatureImage.offsetLeft - pageCanvas.offsetLeft) * scale;
                const sigYOnCanvas = (signatureImage.offsetTop - pageCanvas.offsetTop) * scale;
                const sigHeight = signatureImage.offsetHeight * scale;
                
                // pdf-lib's origin is bottom-left, so we need to invert the Y coordinate
                const sigY = page.getHeight() - sigYOnCanvas - sigHeight;

                page.drawImage(signatureImgPng, {
                    x: sigX,
                    y: sigY,
                    width: signatureImage.offsetWidth * scale,
                    height: sigHeight,
                });

                const signedPdfBytes = await pdfDoc.save();
                const blob = new Blob([signedPdfBytes], { type: "application/pdf" });
                const url = URL.createObjectURL(blob);

                const a = document.createElement("a");
                a.href = url;
                a.download = "signed-document.pdf";
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);

            } catch (err) {
                console.error("Error signing PDF: ", err);
                alert("An error occurred while applying the signature. Please try again.");
            } finally {
                downloadBtn.disabled = false;
                downloadBtn.textContent = 'Apply Signature & Download';
            }
        });

        // Make the signature resizable and draggable
        interact('#signature-image')
            .resizable({
                edges: { left: true, right: true, bottom: true, top: true },
                listeners: {
                    move(event) {
                        const target = event.target;
                        let x = (parseFloat(target.getAttribute('data-x')) || 0);
                        let y = (parseFloat(target.getAttribute('data-y')) || 0);

                        target.style.width = `${event.rect.width}px`;
                        target.style.height = `${event.rect.height}px`;

                        // Update the position based on the resize
                        x += event.deltaRect.left;
                        y += event.deltaRect.top;

                        target.style.transform = `translate(${x}px, ${y}px)`;
                        target.setAttribute('data-x', x);
                        target.setAttribute('data-y', y);
                    }
                },
                modifiers: [
                    interact.modifiers.aspectRatio({
                        ratio: 'preserve'
                    })
                ]
            })
            .draggable({
                listeners: {
                    move(event) {
                        const target = event.target;
                        const x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx;
                        const y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;
                        
                        target.style.transform = `translate(${x}px, ${y}px)`;
                        target.setAttribute('data-x', x);
                        target.setAttribute('data-y', y);
                    }
                }
            });
    });
  </script>
</body>
</html>
