<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ============== BASIC META TAGS ============== -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Free eSign PDF Tool | Sign Documents Online</title>
    <meta name="description" content="Sign PDF documents online for free with our secure eSign tool. Upload your PDF, draw your signature, and place it anywhere on the document. Fast, private, and no uploads required.">
    <meta name="keywords" content="esign pdf, sign pdf, electronic signature, sign document online, free pdf signer, draw signature on pdf, online signature tool">
    
    <!-- ============== SEO & SOCIAL META TAGS ============== -->
    <link rel="canonical" href="https://yourwebsite.com/esign-pdf.html">
    <link rel="icon" href="Favicon.png" type="image/x-icon">
    <meta property="og:title" content="Free Online PDF eSigning Tool">
    <meta property="og:description" content="Easily add your signature to any PDF document. Our tool works in your browser, keeping your files secure and private.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourwebsite.com/esign-pdf.html">
    <meta property="og:image" content="https://yourwebsite.com/images/esign-pdf-og.png">

    <!-- External Libraries -->
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.0.0/dist/signature_pad.umd.min.js"></script>
    <script src="https://mozilla.github.io/pdf.js/build/pdf.js"></script>


    <!-- ============== STYLES & FONTS ============== -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #007BFF;
            --background-color: #f4faff;
            --card-background: #ffffff;
            --text-color: #333;
            --heading-color: #0056b3;
            --border-color: #ddd;
            --shadow-color: rgba(0, 123, 255, 0.1);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Poppins', Arial, sans-serif;
            background: var(--background-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        
        .page-header {
            width: 100%;
            max-width: 1200px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .brand-name { font-size: 1.8em; font-weight: 700; }
        .brand-part-1 { color: var(--primary-color); }
        .brand-part-2 { color: var(--text-color); }
        .back-button {
            text-decoration: none;
            background-color: #e9ecef;
            color: var(--text-color);
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: 600;
            transition: background-color 0.3s;
            border: 1px solid var(--border-color);
        }
        .back-button:hover { background-color: #dee2e6; }
        
        .main-container { width: 100%; max-width: 1200px; }
        .content-section, .tool-container, footer {
            background-color: var(--card-background);
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 8px 25px var(--shadow-color);
            margin-bottom: 30px;
        }
        h1, h2 { color: var(--heading-color); margin-bottom: 15px; text-align: center; }
        h1 { font-size: 2em; }
        h2 { font-size: 1.6em; }
        
        .tool-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }
        @media (min-width: 992px) {
            .tool-container { grid-template-columns: 350px 1fr; }
        }

        .controls-side .step { margin-bottom: 20px; }
        .controls-side h3 { border-bottom: 2px solid var(--primary-color); padding-bottom: 5px; }
        
        #signaturePad { border: 2px dashed var(--border-color); border-radius: 8px; cursor: crosshair; }
        
        .workspace-side {
            background-color: #f0f0f0;
            padding: 15px;
            border-radius: 8px;
            overflow: auto;
            max-height: 80vh;
            position: relative;
        }
        #pdf-viewer { text-align: center; }
        #pdf-viewer canvas { margin-bottom: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        #signature-image {
            position: absolute;
            cursor: move;
            display: none;
            user-select: none;
        }
        
        .btn {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            width: auto;
            margin: 5px;
            font-size: 16px;
            font-weight: 600;
        }
        .btn:disabled { background-color: #a0c8ff; cursor: not-allowed; }
        .btn.secondary { background-color: #6c757d; }
        
        footer { text-align: center; }
        .footer-container ul { list-style: none; padding: 0; margin: 10px 0; }
        .footer-container li { display: inline; margin: 0 10px; }
        .footer-container a { color: var(--primary-color); text-decoration: none; }
        .footer-bottom { margin-top: 15px; font-size: 0.9em; color: #888; }
    </style>

    <!-- ============== STRUCTURED DATA (SCHEMA MARKUP) ============== -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Free eSign PDF Tool",
      "applicationCategory": "BusinessApplication",
      "operatingSystem": "Any (Web-based)",
      "offers": { "@type": "Offer", "price": "0" },
      "description": "A free, web-based tool to electronically sign PDF documents. Users can draw a signature and place it anywhere on the PDF, all within the browser for security."
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [{
        "@type": "Question",
        "name": "Is signing a PDF with this tool legally binding?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "This tool provides a simple way to add an electronic signature (an image of your signature) to a PDF. The legal validity of such signatures can vary depending on your country's laws and the nature of the agreement. For highly sensitive documents, a certified digital signature service might be required. This tool is perfect for personal use and informal agreements."
        }
      }, {
        "@type": "Question",
        "name": "Are my PDF files and signature secure?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes. Your privacy is our top priority. Your PDF file and your signature are processed entirely in your web browser. No data is ever uploaded to our servers, ensuring your documents remain confidential and secure on your own computer."
        }
      }]
    }
    </script>
</head>
<body>
  <header class="page-header">
      <a href="index.html#tools" class="back-button">← Back to Tools</a>
      <div class="brand-name">
          <span class="brand-part-1">Tools</span><span class="brand-part-2">Bucket</span>
      </div>
  </header>

  <main class="main-container">
    <section class="content-section">
        <h1>Free Online PDF eSign Tool</h1>
        <p>Sign your PDF documents with ease using our secure and intuitive eSign tool. Whether you need to sign a contract, an application form, or any other document, our tool allows you to upload a PDF, draw your signature, and place it exactly where you need it. The best part? Everything happens directly in your browser, ensuring your files are never uploaded to a server. It's the fast, free, and private way to sign documents online.</p>
    </section>

    <div class="tool-container">
        <div class="controls-side">
            <div class="step">
                <h3>Step 1: Upload PDF</h3>
                <input type="file" id="pdfInput" accept="application/pdf" />
            </div>
            <div class="step">
                <h3>Step 2: Draw Signature</h3>
                <canvas id="signaturePad" width="300" height="150"></canvas>
                <button id="clearBtn" class="btn secondary">Clear</button>
            </div>
            <div class="step">
                <h3>Step 3: Place & Download</h3>
                <p>After signing, click on the PDF preview to place your signature.</p>
                <button id="downloadBtn" class="btn" disabled>Apply Signature & Download</button>
            </div>
        </div>
        
        <div class="workspace-side">
            <div id="pdf-viewer">
                <p>Upload a PDF to get started</p>
            </div>
            <img id="signature-image" alt="Your signature">
        </div>
    </div>
    
    <section class="content-section">
        <h2>How to Sign Your PDF</h2>
        <ol>
            <li><strong>Upload Your PDF:</strong> Click the "Choose File" button to select a PDF from your device.</li>
            <li><strong>Draw Your Signature:</strong> Use your mouse or trackpad to draw your signature in the box provided. Click "Clear" to start over.</li>
            <li><strong>Place Your Signature:</strong> Click anywhere on the PDF preview where you want to add your signature. You can then drag it to the perfect position.</li>
            <li><strong>Download:</strong> Click the "Apply Signature & Download" button to save your newly signed PDF.</li>
        </ol>
    </section>

    <footer id="contact">
        <div class="footer-container">
            <h3>Quick Links</h3>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="index.html#tools">All Tools</a></li>
                <li><a href="privacy-policy.html">Privacy Policy</a></li>
                <li><a href="terms-&-conditions.html">Terms of Use</a></li>
                <li><a href="about.html">About</a></li>
            </ul>
        </div>
        <div class="footer-bottom">
            <p>© 2025 Tools Bucket. All rights reserved.</p>
        </div>
    </footer>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
        const { PDFDocument } = PDFLib;
        const pdfjsLib = window['pdfjs-dist/build/pdf'];
        pdfjsLib.GlobalWorkerOptions.workerSrc = `https://mozilla.github.io/pdf.js/build/pdf.worker.js`;

        const pdfInput = document.getElementById("pdfInput");
        const signaturePadCanvas = document.getElementById("signaturePad");
        const pdfViewer = document.getElementById("pdf-viewer");
        const clearBtn = document.getElementById("clearBtn");
        const downloadBtn = document.getElementById("downloadBtn");
        
        const signaturePad = new SignaturePad(signaturePadCanvas);
        let pdfBytes = null;
        let signaturePlaced = false;
        let signaturePos = { x: 0, y: 0, page: 0 };
        let renderedPages = [];

        const renderPdf = async (file) => {
            pdfViewer.innerHTML = 'Loading PDF...';
            const data = await file.arrayBuffer();
            pdfBytes = data;
            
            const pdf = await pdfjsLib.getDocument({ data }).promise;
            pdfViewer.innerHTML = '';
            renderedPages = [];

            for (let i = 1; i <= pdf.numPages; i++) {
                const page = await pdf.getPage(i);
                const viewport = page.getViewport({ scale: 1.5 });
                const canvas = document.createElement('canvas');
                const context = canvas.getContext('2d');
                canvas.height = viewport.height;
                canvas.width = viewport.width;
                canvas.dataset.pageNumber = i;

                await page.render({ canvasContext: context, viewport: viewport }).promise;
                pdfViewer.appendChild(canvas);
                renderedPages.push(canvas);

                canvas.addEventListener('click', (e) => {
                    if (signaturePad.isEmpty()) {
                        alert('Please draw your signature first.');
                        return;
                    }

                    const rect = canvas.getBoundingClientRect();
                    signaturePos = {
                        x: e.clientX - rect.left,
                        y: canvas.height - (e.clientY - rect.top), // PDF-lib has origin at bottom-left
                        page: parseInt(canvas.dataset.pageNumber) - 1
                    };
                    signaturePlaced = true;
                    downloadBtn.disabled = false;
                    alert(`Signature placed on page ${i}. You can now download the document.`);
                });
            }
        };

        pdfInput.addEventListener("change", (e) => {
            const file = e.target.files[0];
            if (file && file.type === "application/pdf") {
                renderPdf(file);
            } else {
                alert("Please upload a valid PDF file.");
            }
        });

        clearBtn.addEventListener("click", () => {
            signaturePad.clear();
        });

        downloadBtn.addEventListener("click", async () => {
            if (!pdfBytes) {
                alert("Please upload a PDF first.");
                return;
            }
            if (signaturePad.isEmpty()) {
                alert("Please draw your signature.");
                return;
            }
            if (!signaturePlaced) {
                alert("Please click on the PDF to place your signature.");
                return;

            }

            try {
                downloadBtn.disabled = true;
                downloadBtn.textContent = 'Applying...';
                
                const pdfDoc = await PDFDocument.load(pdfBytes);
                const signatureImageBytes = signaturePad.toDataURL("image/png");
                const signatureImage = await pdfDoc.embedPng(signatureImageBytes);

                const pageToSign = pdfDoc.getPages()[signaturePos.page];
                
                // Adjust signature size
                const sigWidth = 150;
                const sigHeight = (sigWidth / signatureImage.width) * signatureImage.height;

                pageToSign.drawImage(signatureImage, {
                    x: signaturePos.x - sigWidth / 2, // Center the signature on click
                    y: signaturePos.y - sigHeight / 2,
                    width: sigWidth,
                    height: sigHeight,
                });

                const signedPdfBytes = await pdfDoc.save();
                const blob = new Blob([signedPdfBytes], { type: "application/pdf" });
                const url = URL.createObjectURL(blob);

                const a = document.createElement("a");
                a.href = url;
                a.download = "signed_document.pdf";
                document.body.appendChild(a);
                a.click();
                
                URL.revokeObjectURL(url);
                a.remove();

            } catch (err) {
                console.error("Error signing PDF: ", err);
                alert("An error occurred while signing the PDF.");
            } finally {
                downloadBtn.disabled = false;
                downloadBtn.textContent = 'Apply Signature & Download';
            }
        });
    });
  </script>
</body>
</html>
